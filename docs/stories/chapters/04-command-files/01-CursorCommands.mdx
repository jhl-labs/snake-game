import { Meta, Source } from '@storybook/blocks';
import { Placeholder } from '../../../components/Placeholder';
import { ChapterNav } from '../../../components/ChapterNav';

<Meta title="Chapters/04. Command 파일 작성/4.1 Cursor Command 파일" />

# Chapter 4: Command 파일 작성

**예상 소요 시간: 45분**

---

## 4.1 Cursor Command 파일

Command 파일은 **자주 사용하는 작업**을 정의합니다.
빌드, 테스트, 배포 등 반복적인 작업을 빠르게 실행할 수 있습니다.


![](015-command-cursor.png)

![](015-command-cursor-ui.png)

---

## 파일 위치 및 구조

**위치:** `.cursor/commands/*.md`


### 기본 구조

<Source
  language="markdown"
  code={`
---
name: 커맨드 이름
command: 실행할 명령어
description: 커맨드 설명
cwd: \${workspaceFolder}
---
`}
/>

---

## 메타데이터 필드

| 필드 | 필수 | 설명 |
|------|------|------|
| `name` | ✅ | 커맨드 표시 이름 |
| `command` | ✅ | 실행할 셸 명령어 |
| `description` | ❌ | 커맨드 설명 |
| `cwd` | ❌ | 작업 디렉토리 (기본: 프로젝트 루트) |

---

## 실제 Command 파일 분석

### build.md

<Source
  language="markdown"
  code={`
---
name: 빌드 프로젝트
command: mingw32-make
description: Makefile을 사용하여 프로젝트를 빌드합니다.
cwd: \${workspaceFolder}
---
`}
/>

### build-and-run.md

<Source
  language="markdown"
  code={`
---
name: 빌드 후 실행
command: mingw32-make && ./bin/snake.exe
description: 프로젝트를 빌드하고 실행합니다.
cwd: \${workspaceFolder}
---
`}
/>

### clean.md

<Source
  language="markdown"
  code={`
---
name: 빌드 정리
command: mingw32-make clean
description: 빌드된 파일을 삭제합니다.
cwd: \${workspaceFolder}
---
`}
/>


---

## Command 실행 방법

### 1. 명령 팔레트

<Source
  language="text"
  code={`
1. Ctrl + Shift + P (명령 팔레트 열기)
2. "Run Command" 또는 "커맨드 실행" 검색
3. 원하는 커맨드 선택
`}
/>


### 2. Chat에서 요청

<Source
  language="text"
  code={`
> 프로젝트를 빌드해줘
> 빌드하고 실행해줘
`}
/>

Agent가 정의된 Command를 인식하고 실행합니다.


---

## 프로젝트의 Command 목록

| 파일명 | 이름 | 명령어 |
|--------|------|--------|
| `build.md` | 빌드 프로젝트 | `mingw32-make` |
| `build-and-run.md` | 빌드 후 실행 | `mingw32-make && ./bin/snake.exe` |
| `clean.md` | 빌드 정리 | `mingw32-make clean` |
| `rebuild.md` | 재빌드 | `mingw32-make clean && mingw32-make` |
| `check-syntax.md` | 구문 검사 | `gcc -fsyntax-only ...` |
| `run.md` | 실행 | `./bin/snake.exe` |
| `test.md` | 테스트 실행 | `mingw32-make test` |

---

## 복합 명령어

여러 명령어를 조합할 수 있습니다:

### 순차 실행 (`&&`)

<Source
  language="markdown"
  code={`
command: mingw32-make clean && mingw32-make && ./bin/snake.exe
# clean 성공 → build 성공 → run
`}
/>

### 조건부 실행 (`||`)

<Source
  language="markdown"
  code={`
command: ./bin/snake.exe || echo "실행 파일이 없습니다"
# 실행 실패 시 메시지 출력
`}
/>

---

## 핵심 정리

<div style={{
  backgroundColor: '#f0fdf4',
  padding: '1rem',
  borderRadius: '8px',
  marginTop: '1.5rem'
}}>

1. Command 파일 위치: **`.cursor/commands/*.md`**
2. **name, command** 필드는 필수
3. `&&`로 **여러 명령어 조합** 가능
4. Chat에서 **자연어로 요청**하면 자동 실행

</div>

<ChapterNav
  prevLink="?path=/docs/chapters-03-rule-파일-작성-3-3-효과적인-rule-작성--docs"
  prevTitle="3.3 효과적인 Rule 작성"
  nextLink="?path=/docs/chapters-04-command-파일-작성-4-2-claude-code-슬래시-커맨드--docs"
  nextTitle="4.2 Claude Code 슬래시 커맨드"
/>
